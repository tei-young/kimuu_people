# KIMUU 뷰티샵 스케줄 관리 앱 기획서

> 버전: 1.2.0 (최종)  
> 최종 수정일: 2026-01-05  
> 상태: 확정

---

## 1. 앱 개요

### 1.1 목적
KIMUU 뷰티샵(반영구 화장 전문)의 원장님들이 **상호 스케줄을 확인**하고 **개인 일정을 관리**하기 위한 내부용 iOS 앱

### 1.2 핵심 가치
- 원장님 간 스케줄 충돌 방지
- 실시간 일정 공유로 협업 효율화
- 직관적인 캘린더 UI로 빠른 일정 확인

### 1.3 타겟 사용자
| 역할 | 인원 | 권한 |
|------|------|------|
| Admin | 1명 (개발자) | 모든 일정 CRUD + 원장 계정/비밀번호 관리 |
| 원장님 | 3~4명 (최대 6명) | 본인 일정 CRUD + 타 원장 일정 열람 |

### 1.4 플랫폼
- **iOS 네이티브 앱** (iPhone only)
- 최소 지원 버전: iOS 16.0+

---

## 2. 사용자 역할 및 권한

### 2.1 권한 매트릭스

| 기능 | Admin | 원장님 |
|------|-------|--------|
| 로그인/로그아웃 | O | O |
| 본인 일정 추가 | O | O |
| 본인 일정 수정/삭제 | O | O |
| 타 원장 일정 열람 | O | O |
| 타 원장 일정 수정/삭제 | O | X |
| 본인 색상 변경 | O | O |
| 본인 시술 종류 커스터마이징 | O | O |
| 원장 계정 생성/관리 | O (개발환경) | X |

### 2.2 계정 관리
- 계정은 **서버에서 부여** (회원가입 기능 없음)
- Admin이 개발환경 또는 별도 도구로 계정 생성/삭제/비밀번호 관리
- 원장님은 비밀번호 변경 불가 (필요 시 Admin에게 요청)
- 원장 퇴사 시: 해당 계정 삭제 후 필요 시 신규 계정 생성

---

## 3. 주요 기능

### 3.1 인증 (Authentication)
- 서버 부여 ID/PW로 로그인
- 자동 로그인 (토큰 기반)
- 로그아웃

### 3.2 캘린더 시스템

#### 3.2.1 월별 캘린더 (메인)
- 한눈에 월 전체 확인
- 일정이 있는 날짜에 **색상 도트** 표시 (원장님별 색상)
- 좌우 스와이프로 이전/다음 월 이동
- 특정 날짜 탭 → 일별 상세 캘린더로 이동

#### 3.2.2 일별 상세 캘린더
- **열 (Column)**: 원장님별 (기본 최대 4열)
- **행 (Row)**: 시간대
- **24시간 표시**, 진입 시 **오전 9시**로 자동 스크롤

##### 열 레이아웃 (원장 수 대응)
| 원장 수 | 레이아웃 |
|---------|----------|
| 1~4명 | 한 화면에 모든 열 표시 (균등 분할) |
| 5~6명 | **필터**로 표시할 원장 선택 가능<br>전체 선택 시: 4열 고정 + 좌우 스와이프 + 페이지 인디케이터(dot) |

##### 원장 필터 기능
- 일별 상세 캘린더 상단에 필터 버튼
- 체크박스로 표시할 원장 선택/해제
- 선택된 원장만 열로 표시 (최대 4열까지 한 화면)
- 5명 이상 선택 시 스와이프 전환

##### 시간 단위 전환 (Pinch-Zoom)
| 단위 | 설명 | 전환 방식 |
|------|------|----------|
| 1시간 (기본) | 일별 캘린더 진입 시 디폴트 | - |
| 30분 | Pinch-Zoom In | 두 손가락 벌리기 |
| 10분 | Pinch-Zoom In (최대 확대) | 두 손가락 벌리기 |

- Pinch-Zoom Out (두 손가락 모으기)으로 상위 단위로 복귀
- **벤치마킹**: Google Calendar / Apple Calendar의 zoom 인터랙션
- 10분 단위 시술 지원을 위한 설계

#### 3.2.3 일정 블럭
- **색상**: 해당 원장님의 지정 색상
- **표시 정보**: 고객명, 시술 종류 (블럭 내 요약)
- **블럭 높이**: 시술 시간에 비례

### 3.3 일정 관리 (CRUD)

#### 3.3.1 일정 추가
- 일별 상세 캘린더에서 빈 시간 영역 탭 → 일정 추가 모달
- 입력 필드:
  - **고객명** (필수, 텍스트)
  - **핸드폰번호** (필수, 전화번호 형식)
  - **시술 종류** (필수, 드롭다운)
  - **시작 시간** (필수, 10분 단위)
  - **종료 시간** (필수, 10분 단위)
  - **메모** (선택, 텍스트)

#### 3.3.2 일정 수정
- 기존 일정 블럭 탭 → 상세 보기 → 수정 버튼
- 본인 일정 또는 Admin만 수정 가능
- 타 원장 일정은 열람만 가능 (수정 버튼 비노출)

#### 3.3.3 일정 삭제
- 상세 보기에서 삭제 버튼
- 삭제 전 확인 Alert
- 본인 일정 또는 Admin만 삭제 가능

### 3.4 설정

#### 3.4.1 개인 색상 설정
- 프리셋 색상 팔레트에서 선택
- **제약**: 다른 원장이 사용 중인 색상은 선택 불가 (비활성화 표시)

#### 3.4.2 시술 종류 커스터마이징
- 디폴트 시술 종류: **눈썹문신, 입술문신, 애교살**
- 개인별로 시술 종류 추가/삭제/순서변경 가능
- 드롭다운에 본인이 설정한 시술 종류만 표시

### 3.5 고객 데이터
- 일정 등록 시 입력된 고객 정보는 **서버에 저장**
- 현재 버전: 자동완성 미지원 (추후 확장 가능)
- 동일 고객의 복수 예약 이력 조회 가능 (추후)

---

## 4. 화면 구성 (Information Architecture)

```
[로그인]
    │
    ▼
[메인 - 월별 캘린더] ◄────────────────┐
    │                                  │
    │ 날짜 탭                          │
    ▼                                  │
[일별 상세 캘린더]                      │
    │                                  │
    ├─ 빈 영역 탭 → [일정 추가 모달]    │
    │                                  │
    ├─ 일정 블럭 탭 → [일정 상세 보기]  │
    │       │                          │
    │       ├─ 수정 → [일정 수정 모달]  │
    │       └─ 삭제 → 확인 후 삭제      │
    │                                  │
    └─ 뒤로가기 ───────────────────────┘

[설정] (탭바 또는 메뉴)
    ├─ 개인 색상 설정
    ├─ 시술 종류 관리
    └─ 로그아웃
```

---

## 5. 데이터 모델 (초안)

### 5.1 User (원장)
```
User {
    id: UUID
    username: String (로그인 ID)
    password: String (해시)
    displayName: String (표시명)
    color: String (HEX 색상코드)
    isAdmin: Boolean
    treatmentTypes: [String] (커스텀 시술 종류)
    createdAt: DateTime
    updatedAt: DateTime
}
```

### 5.2 Appointment (일정)
```
Appointment {
    id: UUID
    userId: UUID (FK → User)
    customerName: String
    customerPhone: String
    treatmentType: String
    startTime: DateTime
    endTime: DateTime
    memo: String?
    createdAt: DateTime
    updatedAt: DateTime
}
```

### 5.3 Customer (고객) - 추후 확장용
```
Customer {
    id: UUID
    name: String
    phone: String
    appointments: [Appointment]
    createdAt: DateTime
}
```

---

## 6. 기술 스택 (제안)

### 6.1 iOS 앱
| 영역 | 기술 | 선택 이유 |
|------|------|----------|
| 언어 | Swift 5.9+ | iOS 네이티브 표준 |
| UI Framework | SwiftUI | 선언적 UI, 빠른 개발 |
| 아키텍처 | MVVM | SwiftUI와 궁합, 유지보수성 |
| 네트워킹 | URLSession + async/await | 기본 제공, 충분한 기능 |
| 로컬 저장 | UserDefaults / Keychain | 토큰 및 설정 저장 |

### 6.2 백엔드 (Supabase)
| 영역 | 기술 | 선택 이유 |
|------|------|----------|
| BaaS | Supabase | PostgreSQL 기반, 빠른 개발, 실시간 지원 |
| 데이터베이스 | PostgreSQL | 안정성, 관계형 데이터에 적합 |
| 인증 | Supabase Auth | 내장 인증, JWT 기반 |
| API | Supabase REST API | 자동 생성, Row Level Security |
| 호스팅 | Supabase Cloud | 프리 티어 (새 계정) |

---

## 7. UI/UX 가이드라인

### 7.1 색상 팔레트 (원장 선택용)
```
프리셋 색상 (12색):
- #FF6B6B (코랄 레드)
- #4ECDC4 (틸)
- #45B7D1 (스카이 블루)
- #96CEB4 (민트)
- #FFEAA7 (레몬)
- #DDA0DD (플럼)
- #98D8C8 (아쿠아)
- #F7DC6F (골드)
- #BB8FCE (라벤더)
- #85C1E9 (파스텔 블루)
- #F8B500 (앰버)
- #82E0AA (라이트 그린)
```

### 7.2 캘린더 UI/UX 벤치마킹

**주요 참고: Google Calendar / Apple Calendar**

| 요소 | 벤치마킹 포인트 |
|------|----------------|
| 월별 캘린더 | 그리드 레이아웃, 일정 있는 날짜에 색상 도트 표시 |
| 일별 상세 | 세로 스크롤 타임라인, 시간 눈금선, 블럭형 일정 |
| Zoom 인터랙션 | Pinch-Zoom으로 시간 단위 확대/축소 (1시간↔30분↔10분) |
| 일정 블럭 | 색상 배경, 둥근 모서리, 시간 비례 높이 |
| 스크롤 | 상하 스크롤 시 부드러운 관성, 시간 헤더 고정 |

**다중 열 레이아웃 참고: Fantastical**
- 원장님별 열 구분
- 열 헤더에 원장 이름/이니셜 표시

### 7.3 접근성
- 색상만으로 구분하지 않고 원장 이름/이니셜 병행 표시
- 충분한 터치 영역 확보 (최소 44pt)

---

## 8. 개발 단계 (제안)

### Phase 1: MVP (4~6주)
- [ ] 프로젝트 설정 (iOS + 백엔드)
- [ ] 인증 시스템 (로그인/로그아웃)
- [ ] 월별 캘린더 UI
- [ ] 일별 상세 캘린더 (1시간 단위)
- [ ] 일정 CRUD 기본 기능
- [ ] 원장별 색상 구분

### Phase 2: 핵심 기능 완성 (2~3주)
- [ ] 30분/10분 단위 Depth 전환
- [ ] Pinch-Zoom 제스처
- [ ] 설정 화면 (색상, 시술 종류)
- [ ] 권한 검증 강화

### Phase 3: 안정화 (1~2주)
- [ ] 에러 처리 및 예외 상황
- [ ] UI/UX 다듬기
- [ ] 테스트 및 버그 수정
- [ ] 배포 준비

---

## 9. 결정 사항

| 항목 | 결정 | 비고 |
|------|------|------|
| 백엔드 스택 | **Supabase** | 새 계정으로 프리 티어 사용 |
| 일정 충돌 | **현재 없음** | 추후 시술실/베드 정보 추가 시 확장 예정 |
| 데이터 백업 | Supabase 자동 백업 활용 | 프리 티어 포함 |
| 앱 배포 | **App Store (Unlisted)** | 검색 노출 없이 링크로만 배포 |

---

## 10. 다음 단계

1. **기획서 검토 및 피드백** ← 현재 단계
2. 미결정 사항 논의
3. 기술 스택 최종 확정
4. 개발 착수

---

> 이 기획서에 대한 피드백을 주시면 반영 후 개발을 시작하겠습니다.
